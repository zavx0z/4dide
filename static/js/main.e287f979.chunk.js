(this.webpackJsonp4dide=this.webpackJsonp4dide||[]).push([[0],{73:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(18),a=n.n(o),c=(n(73),n(11)),s=n(14),l=n(102),u=n(15),d=n(52),f=n(16),h=n(12),m=n(6),g=function(e){var t=e.scale,n=e.position,i=e.clickHandler,o=e.color,a=e.detail,c=e.name,s=Object(r.useState)(!1),l=Object(h.a)(s,2),u=l[0],d=l[1];return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("mesh",{onPointerOver:function(e){e.stopPropagation(),d(!0)},onPointerOut:function(e){e.stopPropagation(),d(!1)},onClick:i,scale:t,position:n,name:c,children:[Object(m.jsx)("icosahedronBufferGeometry",{args:[.5,a]}),Object(m.jsx)("meshLambertMaterial",{emissive:u?o[800]:o[900],wireframe:!0,emissiveIntensity:1})]})})},v=n(105),p=n.p+"static/media/Roboto-Regular.03523cf5.ttf",b=Object(s.c)((function(e){var t=e.item,n=e.clickHandler,r=t.colorName,i=t.nameAnchorX,o=t.nameInitPosition,a=t.nameAnchorY,c=t.initName;return Object(m.jsx)(v.a,{onClick:n,fontSize:.3,textAlign:"center",font:p,position:o,color:r,anchorX:i,anchorY:a,name:"nameText",onSync:c,children:t.name})})),j=Object(s.c)((function(e){var t=e.item,n=t.init,r=Object(f.d)((function(e){return n(e)}),[]),i=Object(c.g)(),o=t.clickItem,a=function(e){return o(e,i)},s=t.coreScale,l=t.level,h=t.touchZone;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("mesh",{ref:r,children:[Object(m.jsx)(g,{name:"item",color:d.a,scale:Object(u.a)(s),detail:4-l,clickHandler:a,opacity:.4,touchZone:h}),Object(m.jsx)(b,{item:t,clickHandler:a})]})})})),x=Object(s.b)("root")(Object(s.c)((function(e){var t=e.root.viewport.camera,n=Object(r.useRef)(),i=Object(f.c)().setDefaultCamera,o=t.init;Object(r.useEffect)((function(){"undefined"!==typeof n.current&&(i(n.current),o(n.current))}),[i,o]);var a=t.fov,c=t.positionV3,s=t.rotationV3;return Object(m.jsx)("perspectiveCamera",{ref:n,fov:a,position:c,rotation:s})}))),O=Object(s.b)("root")(Object(s.c)((function(e){var t=e.root,n=t.speed,i=t.viewport.setWidth,o=e.item,a=o.core,c=o.setActive,s=o.playAxis,l=o.moveNameUp,u=o.stopAxis,d=o.setFly,h=o.moveNameToEntity,g=o.moveNameToCore,v=Object(f.c)().invalidate;return Object(r.useEffect)((function(){return d(!0),c(!0),u(),v(),function(){d(!1),c(!1),l(),s()}}),[v,l,s,c,d,u]),Object(f.b)((function(e){var t=e.camera,r=e.viewport,c=e.invalidate,s=o.cameraPositionEqual,l=o.nameInitWidth;if(i(r().width),n&&c(),!s&&l){var u=o.cameraV3;t.lookAt(t.position.lerp(u,.1)),a?g():h(),c()}s&&d(!1)})),Object(m.jsx)(m.Fragment,{})}))),w=n(1),P=n(66),y=n.n(P),k=function(e){var t=e.item,n=t.coreScale,r=t.coreDetail,i=t.touchZone,o=t.clickCore,a=Object(c.g)();return Object(m.jsx)(g,{name:"core",clickHandler:function(e){return o(e,a)},color:y.a,scale:Object(u.a)(n),detail:r,touchZone:i})},A=Object(s.b)("root")(Object(s.c)((function(e){var t=e.root.aline,n=e.children,r=e.item,i=r.init,o=Object(f.d)((function(e){return i(e)}),[]),a=r.clickHandler,s=Object(c.g)(),l=function(e){return a(e,s)},u=r.hovered,h=r.active,g=r.toggleHover,v=r.torScale,p=r.torDetail;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("group",{ref:o,children:[Object(m.jsxs)("mesh",{scale:v,name:"tor",onPointerOver:g,onPointerOut:g,onClick:l,visible:"VerticalTop"!==t,children:[Object(m.jsx)("torusBufferGeometry",{args:[.25,.25,p,p]}),Object(m.jsx)("meshLambertMaterial",{side:w.DoubleSide,emissive:d.a[900],wireframe:!0,doubleSided:!0,opacity:u||h?.14:.2,transparent:!0})]}),Object(m.jsx)(b,{item:r,clickHandler:l}),Object(m.jsx)(k,{item:r})]}),n]})}))),S=Object(s.b)("root")(Object(s.c)((function(e){var t=e.root.viewport,n=e.item,r=e.children,i=n.axisAnimate,o=n.rotateAxis,a=n.rotateOrbit,c=t.speed;return Object(f.b)((function(e){var t=e.invalidate;a(),i&&o(),c&&t()})),Object(m.jsx)(m.Fragment,{children:r})}))),T=Object(s.b)("root")(Object(s.c)((function(e){var t=e.root.entity;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(x,{}),Object(m.jsx)(l.a,{radius:100,factor:2,fade:!0}),function e(t){var n=t.child,r=t.id,i=t.core;return Object(m.jsx)("group",{name:t.name,children:Object(m.jsx)(S,{item:t,children:i?Object(m.jsx)(A,{item:t,children:i&&n.map((function(t){return e(t)}))}):Object(m.jsx)(j,{item:t})})},r)}(t),Object(m.jsx)(c.c,{children:function e(t){return Object(m.jsxs)(i.a.Fragment,{children:[Object(m.jsx)(c.a,{exact:!0,path:t.fullPath,element:Object(m.jsx)(O,{item:t})}),t.child.map((function(t){return e(t)}))]},t.id)}(t)})]})}))),V=n(104),R=n(67),F=n(53),D=Object(R.a)({palette:{type:"dark",primary:{light:F.a[50],main:F.a[200],dark:F.a[400],contrastText:"#004c3f"},secondary:{light:"#ffa270",main:"#ff7043",dark:"#c63f17",contrastText:"#fafafa"},text:{primary:"#ffffff",secondary:"#ffffff"}}}),L=n(48),C=function(e){return e.setUseSnackbarRef(Object(L.b)()),null},E=function(e){e},_=function(){return Object(m.jsx)(C,{setUseSnackbarRef:E})},I=Object(s.c)((function(e){var t=e.children;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(f.a,{style:{height:"100%",width:"100%"},pixelRatio:window.devicePixelRatio,invalidateFrameloop:!0,children:t})})})),M=n(28),B=n(27),H=n.n(B),z=n(5),U={root:"".concat("http://localhost:5001","/api"),get items(){return"".concat(this.root,"/items")},get coreIp(){return"".concat(this.root,"/core_ip")}},W={get root(){return"".concat(U.root,"/auth")},get token(){return"".concat(this.root,"/token")},get join(){return"".concat(this.root,"/join")},get login(){return"".concat(this.root,"/login")}},N=function(e){return fetch(W.join,{headers:{"Content-Type":"application/json"},method:"POST",mode:"cors",body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return e.error?Promise.reject(e.error):e})).catch((function(e){return"string"===typeof e?Promise.reject(e):Promise.reject("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435.")}))},q=function(e){return fetch(W.login,{headers:e}).then((function(e){return e.json()})).then((function(e){return e.error?Promise.reject(e.error):e})).catch((function(e){return"string"===typeof e?Promise.reject(e):Promise.reject("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435.")}))},X=n(62),Y=function(e,t){var n=new Headers;return n.append("Authorization","Basic "+X.encode("".concat(e,":").concat(t))),q(n)},Z=n(62),J=function(){var e=function(){var e=new Headers,t=localStorage.getItem("token");return e.append("Authorization","Basic "+Z.encode("".concat(t,":"))),e.append("Content-Type","application/json"),e}();return q(e)},G=z.f.model({id:z.f.maybe(z.f.number),phone:z.f.maybe(z.f.string)}).preProcessSnapshot((function(e){return{id:e.id,phone:e.login}})).volatile((function(e){return{loading:!1,password:z.f.maybe(z.f.string)}})).actions((function(e){return{afterCreate:function(){e.tokenStore&&e.reLogin()},setPhone:function(t){e.phone=t},setPassword:function(t){e.password=t},toggleLoading:function(){e.loading=!e.loading},login:Object(z.c)(H.a.mark((function t(n,r){var i,o,a,c;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.toggleLoading(),t.prev=1,t.next=4,Y(n,r);case 4:i=t.sent,o=i.user,a=i.token,c=i.expiration,Object(z.b)(e,o),e.setToken(a),e.setExpiration(c),e.toggleLoading(),t.next=16;break;case 12:return t.prev=12,t.t0=t.catch(1),e.toggleLoading(),t.abrupt("return",Promise.reject(t.t0));case 16:case"end":return t.stop()}}),t,null,[[1,12]])}))),reLogin:Object(z.c)(H.a.mark((function t(){var n,r,i,o;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.toggleLoading(),t.prev=1,t.next=4,J();case 4:n=t.sent,r=n.user,i=n.token,o=n.expiration,Object(z.b)(e,r),e.setToken(i),e.setExpiration(o),e.toggleLoading(),t.next=16;break;case 12:return t.prev=12,t.t0=t.catch(1),e.toggleLoading(),t.abrupt("return",Promise.reject(t.t0));case 16:case"end":return t.stop()}}),t,null,[[1,12]])}))),join:Object(z.c)(H.a.mark((function t(n,r){var i,o,a,c;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.toggleLoading(),t.prev=1,t.next=4,N({login:n,password:r});case 4:i=t.sent,console.log(i),o=i.user,a=i.token,c=i.expiration,Object(z.b)(e,o),e.setToken(a),e.setExpiration(c),e.toggleLoading(),t.next=18;break;case 13:return t.prev=13,t.t0=t.catch(1),console.log(t.t0),e.toggleLoading(),t.abrupt("return",Promise.reject(t.t0));case 18:case"end":return t.stop()}}),t,null,[[1,13]])}))),logOut:function(){e.setPhone(""),e.setPassword(""),e.removeToken(),e.removeExpiration()},setToken:function(e){localStorage.setItem("token",e)},removeToken:function(){localStorage.removeItem("token")},setExpiration:function(e){localStorage.setItem("expiration",e)},removeExpiration:function(){localStorage.removeItem("expiration")}}})).views((function(e){return{get tokenStore(){return localStorage.getItem("token")},get expirationStore(){return localStorage.getItem("expiration")},get isAuthenticated(){return!(!e.phone||!e.tokenStore)}}})).create({}),K=n(30),Q=z.f.model({}).volatile((function(e){return{aline:z.f.enumeration("aline",["VerticalTop","scattering"]),fly:!1}})).actions((function(e){var t=Object(z.e)(e);return{afterCreate:function(){this.setAline("VerticalTop"),t.setAline("VerticalTop")},setFly:function(t){e.fly=t},setAline:function(t){e.aline=t},toggleAline:function(){var t=e.aline,n=e.setAline;n("scattering"===t?"VerticalTop":"scattering")},rotateOrbit:function(){var n=e.aline,r=e.scattering,i=e.verticalTop,o=e.mesh.position,a=e.distance,c=e.parentMeshPosition,s=c.x,l=c.y,u=t.aline;switch(u===n?n:u){case"scattering":o.x=s+a*Math.sin(r),o.y=l+a*Math.cos(r),t.orbitRotate&&(e.alphaRotate+=e.speedRotateOrbit);break;case"VerticalTop":o.x=s+a*Math.sin(i),o.y=l+a*Math.cos(i);break;default:console.log(n)}}}})).views((function(e){var t=Object(z.e)(e);return{get scattering(){var t=e.sibling,n=e.count,r=e.alphaRotate,i=360/(t.length?t.length:1)*n*r;return w.MathUtils.degToRad(i)},get speedRotateOrbit(){var n=e.level,r=e.count;return t.rootSpeed*(1*n/r)},get verticalTop(){return w.MathUtils.degToRad(180)},get distanceCamera(){var t=Object(z.e)(e).viewport.camera.three,n=t.fov,r=t.aspect,i=.54*e.boundingBox.x/Math.tan(.5*w.MathUtils.degToRad(n));return r>1?i:i/r},get distanceCameraVerticalTop(){var t=Object(z.e)(e).viewport.camera.three.fov,n=e.radius,r=e.core,i=e.is_root,o=e.boundingBox,a=e.diameter;return.5*(r?i?.5*o.x+n:.54*o.x+n:a)/Math.tan(.5*w.MathUtils.degToRad(t))},get cameraV3(){var n=e.core,r=e.distanceCamera,i=e.distanceCameraVerticalTop,o=e.mesh.position;switch(t.aline){case"scattering":var a=o.x,c=o.y;return new w.Vector3(a,c,r);case"VerticalTop":if(n){var s=e.radius,l=e.boundingBox,u=(.5*l.x+s)*Object(z.e)(e).viewport.camera.three.aspect,d=o.x+u/2-s,f=o.y-(.5*l.y-s)/2;return new w.Vector3(d,f,i)}var h=o.x,m=o.y;return new w.Vector3(h,m,r);default:return new w.Vector3(0,0,0)}}}})),$=z.f.model({}).volatile((function(e){return{_axisAnimate:!0}})).actions((function(e){var t=Object(z.e)(e);return{rotateAxis:function(){var n=e.mesh.children,r=n[0].rotation;(t.orbitRotate&&(r.z-=e.speedRotateAxis),t.orbitRotate&&n.length>2)&&(n[2].rotation.z-=e.speedRotateAxis)},playAxis:function(){e._axisAnimate=!0},stopAxis:function(){e._axisAnimate=!1}}})).views((function(e){var t=Object(z.e)(e);return{get speedRotateAxis(){return 10*t.rootSpeed*(1+e.level/e.count)},get axisAnimate(){var t=e.speedRotateAxis,n=e._axisAnimate;return t&&n}}})),ee=z.f.model({}).volatile((function(e){return{alphaRotate:1,speed:1}})).actions((function(e){return{playAxisAllChild:function(){e.child.forEach((function(e){return e.playAxis()}))},getVisibleHeight:function(t){var n=Object(z.e)(e).viewport.camera.three,r=t,i=n.position.z;r<i?r-=i:r+=i;var o=w.MathUtils.degToRad(n.fov);return 2*Math.tan(.5*o)*Math.abs(r)},getVisibleWidth:function(t){var n=Object(z.e)(e).viewport.camera.three;return this.getVisibleHeight(t)*n.aspect}}})).views((function(e){return{get visibleHeight(){return e.getVisibleHeight(this.position[2])},get visibleWidth(){return e.getVisibleWidth(this.position[2])},get percentVisible(){var t=function(t){return(e.boundingBox.x/(e[t]/100)).toFixed(2)};return t(Object(z.e)(e).viewport.camera.three.aspect>1?"visibleHeight":"visibleWidth")},get isFold(){return!e.is_root&&!!Object(z.d)(e,2).child.find((function(e){return e.core}))},get cameraPositionEqual(){var t=e.cameraV3,n=e.level,r=e.is_root,i=Object(z.e)(e).viewport.camera.three;if("undefined"!==typeof i){var o=i.position,a=n;return r?o.z.toFixed(a)===t.z.toFixed(a):o.z.toFixed(a)===t.z.toFixed(a)&&o.x.toFixed(a)===t.x.toFixed(a)&&o.y.toFixed(a)===t.y.toFixed(a)}return!1}}})),te=z.f.compose(ee,Q,$),ne=function(e){return[e,0,0]},re=z.f.model({paddingSphere:4}).actions((function(e){return{}})).views((function(e){return{get core(){return!!e.child.length},get coreScale(){var t,n=e.level,r=e.paddingSphere,i=1/n;return[t=i-i/100*r,t,t]},get coreDetail(){return 6}}})),ie=z.f.model({}).actions((function(e){return{getFullDiameter:function(e){var t=this,n=0,r=e.child,i=e.diameter,o=e.is_root;return r.forEach((function(e){n+=e.diameter,e.core&&(n+=t.getFullDiameter(e))})),o?2*n-i:2*n+i},getFullDiameterVerticalTop:function(e){var t=this,n=0,r=e.child,i=e.diameter,o=e.is_root;return r.forEach((function(e){n+=e.diameter,e.core&&(n+=t.getFullDiameterVerticalTop(e)/2)})),o?2*n:2*n+i}}})).views((function(e){return{get torScale(){var t=e.core,n=e.aline,r=e.getFullDiameter,i=e.getFullDiameterVerticalTop;if(t){var o="VerticalTop"===n?i(e):r(e);return[o,o,o]}},get torDetail(){return 2/e.level*20}}})),oe=z.f.model({}).views((function(e){var t=e.is_root?void 0:Object(z.d)(e,2);return{get parentMeshPosition(){return e.is_root?new w.Vector3(0,0,0):t.mesh.position},get parentRadius(){return 1/(e.level-1)/2},get parentScale(){return e.is_root?1:t.coreScale[0]},get parentPosition(){return e.is_root?0:t.position[0]},get sibling(){return e.is_root||"undefined"===typeof t.child?[]:t.child},get childDiameters(){var t=0;return e.child.forEach((function(e){return t+=e.diameter})),t}}})),ae=z.f.model({}).volatile((function(e){return{active:!1,hovered:!1,touchDebug:!1}})).actions((function(e){return{setActive:function(t){var n=e.level;e.active=t,t?Object(z.e)(e).setCurrentLevel(n):Object(z.e)(e).setPrevLevel(n)},toggleHover:function(){e.hovered=!e.hovered},isTarget:function(e,t){return!!e.intersections.filter((function(e){return e.eventObject.name===t})).length},clickItem:function(t,n){t.stopPropagation();var r=e.axisAnimate,i=e.stopAxis,o=e.fullPath,a=e.active;e.touchDebug&&console.log("item click",o),r&&i(),!a&&n(o)},clickCore:function(t,n){t.stopPropagation();var r=e.is_root,i=e.directionBeforeEnter,o=e.toggleAline,a=e.active,c=e.touchDebug,s=e.fullPath,l=e.child;switch(i){case"up":a?r&&(o(),console.log("core click",i),c&&console.log("notAction","core click",i)):(c&&console.log("core click",i),n(s),r&&l.forEach((function(e){return e.nameScaleUpChild()})));break;case"down":a?r&&(c&&console.log("core root toggle visible"),console.log("core click",i)):(c&&console.log("core click",i),n(s));break;default:c&&console.log("core click",i)}},clickTor:function(t,n){var r=e.child,i=e.directionBeforeEnter,o=e.is_root,a=e.level,c=e.touchDebug,s=e.fullPath;switch(i){case"up":var l=Object(z.e)(e).currentLevel-a===1,u=Object(z.e)(e).currentLevel===a;r.forEach((function(e){return e.nameScaleUpChild()})),!o&&u?(c&&console.log("tor click",i,"self tor"),n("../")):!o&&l&&(c&&console.log("tor click",i,"self tor"),n(s));break;case"down":c&&console.log("tor click",i,"self tor"),n(s);break;default:c&&console.log("tor click",i,"item.level:",a,"currentLevel:",Object(z.e)(e).currentLevel)}},clickHandler:function(t,n){var r=e.isTarget;e.touchDebug;r(t,"core")||r(t,"item")||this.clickTor(t,n)}}})).views((function(e){return{get directionBeforeEnter(){return Object(z.e)(e).currentLevel-e.level>=0?"up":"down"},get touchZone(){var t=Object(z.e)(e).currentLevel,n=e.core,r=e.level,i=e.isFold;return n||r===t?[0,0,0]:i||1!==Math.abs(r-t)?[3,3,3]:[0,0,0]}}})),ce=z.f.model({colorName:"white",nameAnchorX:"left",nameAnchorY:"middle"}).volatile((function(e){return{nameInitWidth:0,nameInitHeight:0}})).actions((function(e){return{initName:function(t){var n=e.core,r=e.nameScaleUpChild;e.nameInitWidth=t.geometry.boundingBox.max.x-t.geometry.boundingBox.min.x,e.nameInitHeight=t.geometry.boundingBox.max.y-t.geometry.boundingBox.min.y,n&&r()},setNameAnchorX:function(t){e.nameAnchorX=t},setNameAnchorY:function(t){e.nameAnchorY=t},namePositionRight:function(e){var t=e.nameInitPosition,n=e.visibleWidth,r=e.nameInitWidth,i=e.diameter,o=e.nameHeightMaxScale,a=e.name3d,c=(n-i)/r*.8,s=c>o?o:c;a.position.lerp(Object(K.a)(w.Vector3,Object(u.a)(t)),.2),a.scale.lerp(new w.Vector3(s,s,s),.6)},moveNameToEntity:function(){var t=e.fly,n=e.name3d,r=e.nameWidth,i=e.level;if("undefined"!==typeof r&&t){var o=4*i,a=-r/2/o,c=1/i/2;n.position.lerp(new w.Vector3(a,c,0),.2);var s=1/o;n.scale.lerp(new w.Vector3(s,s,s),.2)}},moveNameToCore:function(){var t=e.name3d,n=e.diameter,r=e.visibleWidth,i=e.nameInitWidth;if(n>r-n){var o=e.cameraV3,a=e.getVisibleWidth,c=e.radius,s=a(c),l=o.x-s/2;t.position.lerp(new w.Vector3(l,0,c),.2);var u=s/i;t.scale.lerp(new w.Vector3(u,u,u),.6)}else this.namePositionRight(e);this.nameScalePositionChilds()},nameScalePositionChilds:function(){var t=e.namePositionRight;e.child.forEach((function(e){return t(e)}))},nameScaleUpChild:function(){var t=this;e.child.forEach((function(e){var n=Date.now();requestAnimationFrame((function r(i){var o=Date.now()-n;t.namePositionRight(e),o<1e3&&requestAnimationFrame(r)}))}))},moveNameUp:function(){var t=this,n=Date.now();requestAnimationFrame((function r(i){var o=Date.now()-n;t.namePositionRight(e),o<1e3&&requestAnimationFrame(r)}))}}})).views((function(e){return{get name3d(){return e.mesh.children.find((function(e){return"nameText"===e.name}))},get nameInitPosition(){return[e.radius,0,0]},get nameHeightMaxScale(){return e.diameter/e.nameInitHeight},get nameWidth(){var e=this.name3d.geometry,t=e.boundingBox,n=t.max,r=t.min;if(e.computeBoundingBox(),n.x!==-1/0)return n.x-r.x}}})),se=z.f.model({}).views((function(e){return{get directionFly(){return Object(z.e)(e).prevLevel>=Object(z.e)(e).currentLevel?"down":"up"}}})),le=z.f.model({}).views((function(e){return{get scatteringPosition(){var t=e.radius,n=e.is_root,r=e.core,i=e.parentPosition,o=e.parentRadius,a=e.childDiameters,c=i+o;return n?ne(0):r&&1===this.count?ne(c+t+a):r?ne(c+this.scatteringDiametersSiblingUp+a):r||1!==this.count?ne(c+this.scatteringDiametersSiblingUp):ne(c+t)},get scatteringDiametersSiblingUp(){var t=this,n=e.sibling,r=0;return n.forEach((function(e){e.count<t.count&&e.core?r+=2*(e.radius+e.childDiameters):e.count<t.count&&(r+=e.diameter)})),r+this.radius}}})),ue=z.f.model({}).views((function(e){return{get verticalTopPosition(){var t=e.radius,n=e.count,r=e.is_root,i=(e.core,e.parentPosition+e.parentRadius);return ne(r?0:1===n?i+t:i+this.verticalTopDiametersSiblingUp)},get verticalTopDiametersSiblingUp(){var t=this,n=e.sibling,r=0;return n.forEach((function(e){e.count<t.count&&e.core?r+=e.childDiameters+e.diameter:e.count<t.count&&(r+=e.diameter)})),r+this.radius}}})),de=z.f.compose(z.f.model({id:z.f.string,name:z.f.string,child:z.f.array(z.f.late((function(){return de}))),fullPath:z.f.string}).volatile((function(e){return{mesh:{}}})).actions((function(e){return{init:function(t){e.mesh=t}}})).views((function(e){return{get is_root(){return"/"===e.fullPath},get level(){return e.root?1:e.id.split(".").length},get count(){var t=e.id.split(".");return parseInt(t[t.length-1])},get position(){var t=e.aline,n=e.verticalTopPosition,r=e.scatteringPosition;return"VerticalTop"===t?n:r},get diameter(){return 1/this.level},get radius(){return.5*this.diameter},get siblingUp(){var t=e.id,n=parseInt(t[t.length-1]),r=t.substring(0,t.length-1)+(n-1).toString();return Object(z.d)(e,2).child.find((function(e){return e.id===r}))},get siblingDown(){var t=e.id,n=parseInt(t[t.length-1]),r=t.substring(0,t.length-1)+(n+1).toString();return Object(z.d)(e,2).child.find((function(e){return e.id===r}))},get boundingBox(){var t=e.mesh.children[0],n=t.geometry,r=t.scale;n.computeBoundingBox();var i=n.boundingBox,o=i.max,a=i.min,c=Math.abs(o.x)+Math.abs(a.x),s=Math.abs(o.y)+Math.abs(a.y),l=Math.abs(o.z)+Math.abs(a.z);return{x:c*r.x,y:s*r.y,z:l*r.z}},get vector3(){return Object(K.a)(w.Vector3,Object(u.a)(this.position))},get distance(){var t=e.is_root,n=e.position,r=e.parentPosition;return t?n[0]:n[0]-r}}})),oe,re,ie,le,ue,ce,te,ae,se),fe=de,he=z.f.model({x:0,y:0,z:0}).actions((function(e){return{setPosition:function(t,n,r){e.x=t,e.y=n,e.z=r}}})),me=z.f.model({position:he,rotation:he,fov:75}).volatile((function(e){return{three:void 0}})).actions((function(e){return{afterCreate:function(){},init:function(t){e.three=t}}})).views((function(e){return{get positionV3(){var t=e.position,n=t.x,r=t.y,i=t.z;return new w.Vector3(n,r,i)},get rotationV3(){var t=e.three,n=e.rotation,r=n.x,i=n.y,o=n.z;return"undefined"!==typeof t?t.rotation:new w.Euler(r,i,o)}}})),ge=z.f.model({camera:me}).volatile((function(e){return{width:.1}})).actions((function(e){return{setWidth:function(t){e.width=t}}})).views((function(e){return{}})),ve=z.f.model({entity:fe,viewport:ge,brightness:4,orbitRotate:!1,speed:1,aline:""}).volatile((function(e){return{prevLevel:0,currentLevel:1}})).actions((function(e){return{setCurrentLevel:function(t){e.currentLevel=t},setPrevLevel:function(){e.prevLevel=e.currentLevel},setAline:function(t){e.aline=t},incrementSpeed:function(){e.speed+=1},decrementSpeed:function(){e.speed-=1},toggleOrbitRotate:function(){e.orbitRotate=!e.orbitRotate}}})).views((function(e){return{get rootSpeed(){var t=e.speed;return t/1e4*t}}})),pe=fe.create({id:"1",name:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f",fullPath:"/",speed:2,child:[{id:"1.1",name:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f",fullPath:"/info",child:[{id:"1.1.1",name:"\u041f\u0440\u0430\u0432\u0438\u043b\u0430 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438",fullPath:"/info/safety_regulations",child:[]},{id:"1.1.2",name:"\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0435\u0439",fullPath:"/info/work_with_the_documentation",child:[]},{id:"1.1.3",name:"\u0422\u0438\u043f \u0448\u0438\u043b\u0434\u0430",fullPath:"/info/shield_type",child:[]},{id:"1.1.4",name:"\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442",fullPath:"/info/certificate",child:[]}]},{id:"1.2",name:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430",fullPath:"/installation",child:[]},{id:"1.3",name:"\u042d\u043a\u0441\u043f\u043b\u0443\u0430\u0442\u0430\u0446\u0438\u044f",fullPath:"/operation",child:[]},{id:"1.4",name:"\u041e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u0435",fullPath:"/service",child:[{id:"1.4.1",name:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442",fullPath:"/service/1",child:[]},{id:"1.4.2",name:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442",fullPath:"/service/2",child:[]},{id:"1.4.3",name:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442",fullPath:"/service/3",child:[]}]},{id:"1.5",name:"\u0414\u0435\u0442\u0430\u043b\u0438",fullPath:"/details",child:[]},{id:"1.6",name:"\u042d\u043b\u0435\u043a\u0442\u0440\u0438\u043a\u0430",fullPath:"/electric",child:[]},{id:"1.7",name:"\u0421\u043c\u0430\u0437\u043a\u0430",fullPath:"/7",child:[{id:"1.7.1",fullPath:"/7/1",name:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442",child:[]},{id:"1.7.2",fullPath:"/7/2",name:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442",path:"auth",child:[]},{id:"1.7.3",fullPath:"/7/3",name:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442",child:[]},{id:"1.7.4",fullPath:"/7/4",name:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442",child:[]}]}]}),be=ge.create({camera:{position:{x:0,y:40,z:100},rotation:{x:0,y:0,z:0},fov:30}}),je=ve.create({viewport:be,entity:pe,orbitRotate:!0,brightness:4,speed:1});Object(z.a)(pe,(function(e,t){var n=e.name,r=e.args,i=e.context;switch(n){case"setAline":var o=r[0];if(i.is_root)switch(o){case"scattering":console.log("scattering"),je.setAline("scattering");break;case"VerticalTop":console.log("VerticalTop"),je.setAline("VerticalTop")}}return t(e)}));var xe=je;a.a.render(Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(V.a,{theme:D,children:Object(m.jsxs)(L.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},children:[Object(m.jsx)(_,{}),Object(m.jsx)(I,{children:Object(m.jsx)(M.a,{children:Object(m.jsx)(s.a,{user:G,root:xe,children:Object(m.jsx)(T,{})})})})]})})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.e287f979.chunk.js.map