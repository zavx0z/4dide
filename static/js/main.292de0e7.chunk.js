(this.webpackJsonp4dide=this.webpackJsonp4dide||[]).push([[0],{47:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var i=n(0),r=n.n(i),o=n(28),a=n.n(o),c=(n(47),n(16)),s=n(12),u=n(11),l=n(3),d=u.g.model({}).views((function(e){return{get titleScale(){var t=2*e.size;return[t,t,t]},get titlePosition(){var t=e.size;return[-t/2-.04,t/2,t/2]},get titleVisible(){var t=e.level,n=e.active;return 1===t?n:Object(u.b)(e,2).active||n}}})),f=u.g.compose(u.g.model({name:"",child:u.g.array(u.g.late((function(){return f}))),path:"",level:0,local:0}).volatile((function(e){return{position:new l.Vector3(0,0,0),expanded:!1,active:!1,hover:!1}})).actions((function(e){return{setActive:function(t){e.active=t},setExpanded:function(t){e.expanded=t},setLevel:function(t){e.level=t},setLocal:function(t){e.local=t},setPath:function(t){e.path=t},setPosition:function(t,n,i){e.position=new l.Vector3(t,n,i)},setHover:function(t,n){t.stopPropagation(),e.hover=n},handleClick:function(){}}})).views((function(e){return{get color(){var t=100/Object(u.e)(e).maxLevel,n=e.level*t.toFixed(0),i=parseInt(255-e.level*t);return"rgb(".concat(n,", ").concat(n,", ").concat(i,")%)")},get size(){return 1/e.level},get title(){return e.name},get ready(){return Object(u.e)(e).ready},get sizeGeometry(){return e.size},get detail(){return 4}}})),d),m=f,h=u.g.model({}).volatile((function(e){return{position:new l.Vector3(0,0,10),animated:!1}})).actions((function(e){return{setAnimate:function(t){e.animated=t},setPosition:function(t,n,i){e.position=new l.Vector3(t,n,i)},getVisibleHeight:function(e,t){var n=e.position.z;t<n?t-=n:t+=n;var i=l.MathUtils.degToRad(e.fov);return 2*Math.tan(.5*i)*Math.abs(t)},getVisibleWidth:function(e,t){return this.getVisibleHeight(e,t)*e.aspect},computeDepth:function(e,t){return t/2/Math.tan(.5*l.MathUtils.degToRad(e))}}})).views((function(e){return{get ready(){return Object(u.e)(e).ready}}})),v=u.g.model({worlds:m,atoms:u.g.array(u.g.string),supervisor:h,maxLevel:0,space:.04}).volatile((function(e){return{expanded:!1,ready:!1}})).actions((function(e){return{toggleReady:function(){console.log("ready"),e.ready=!0},extract:function(t){return Object(u.f)(e.worlds,t)},getFastAtom:function(t){var n=e.atoms,i=n.indexOf(t),r=n[i-1];return this.extract(r)},getPath:function(t){return Object(u.d)(e.worlds,t)}}})).views((function(e){return{}})),p=m.create({name:"4DIDE",child:[{name:"presentation",child:[{name:"1"},{name:"2"},{name:"3"},{name:"4"}]},{name:"monitoring",child:[{name:"1"},{name:"2"},{name:"3"},{name:"4"}]},{name:"mind map",child:[{name:"1"},{name:"2"},{name:"3"},{name:"4"}]},{name:"develop",child:[{name:"1"},{name:"2"},{name:"3"},{name:"4"}]},{name:"debug",child:[{name:"1"},{name:"2"},{name:"3"},{name:"4"}]},{name:"git",child:[{name:"1"},{name:"2"},{name:"3"},{name:"4"}]}]}),b=h.create({position:[0,0,1e3]}),j=function(e){return e.toLowerCase().replace(/ /g,"_").replace(/\//g,"-")},g=[],O=0,x=function e(t,n,i,r){var o="undefined"===typeof r?"/":"/"===r?encodeURIComponent(j(t.name)):r+"/"+encodeURIComponent(j(t.name)),a="undefined"===typeof r?1:n,c="undefined"===typeof i?1:i;if(g.push(Object(u.c)(t)),a>O&&(O=a),t.setLevel(a),t.setLocal(c),t.setPath(o),t.child.length){var s=0;t.child.forEach((function(t){e(t,a+1,s+=1,o)}))}},y=null,w=function e(t,n){var i=C.space;if(t.expanded){var r=y.position.y-y.size/2-t.size/2;t.setPosition(0,r-i,0),y=t}else t.setPosition(n.x,n.y,n.z);t.child.forEach((function(n){return e(n,t.position)}))},z=function(){var e=C.worlds;e.setPosition(0,0,0),y=e,e.child.forEach((function(t){return w(t,e.position)}))},P=function e(t){if(1===t.level)t.setExpanded(!0);else{var n=Object(u.b)(t,2);n.child.forEach((function(e){return e.setExpanded(!0)})),e(n)}},E=function(e){P(e),e.child.forEach((function(e){return e.setExpanded(!0)}))},V=function(e){return x(e),{atoms:g,maxLevel:O}}(p),A=V.atoms,L=V.maxLevel,M=v.create({supervisor:b,worlds:p,atoms:A,maxLevel:L});Object(u.a)(p,(function(e,t){var n=e.name,i=e.args,r=e.context;switch(n){case"setActive":if(i[0]){var o=i[1];E(r),z();var a=r.child,c=r.size,s=function(e){var t=e.position,n=e.size,i=e.child;if(i.length){var r=t.y+n/2,o=i[i.length-1];return r+(Math.abs(o.position.y)+o.size/2)}return n}(r),u=s*o.aspect,l=a.length?.5*c-.5*u:0,d=-function(e,t){var n=e.position,i=e.size;return Math.abs(n.y)-i/2+t/2}(r,s),f=b.computeDepth(o.fov,s)+.5*c;b.setPosition(l,d,f)}else r.child.forEach((function(e){return e.setExpanded(!1)}))}return t(e)}));var C=M,F=n(22),R=n(57),S=n(7),k={height:"100vh",backgroundColor:"black"},D=function(e){var t=e.children;return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(s.a,{style:k,shadowMap:!0,invalidateFrameloop:!0,onCreated:function(){return C.toggleReady()},children:[Object(S.jsx)(R.a,{radius:100,factor:2,fade:!0}),Object(S.jsx)(F.a,{children:Object(S.jsx)(c.a,{universe:C,children:t})})]})})},I=n(10),B=n(58),H=n.p+"static/media/Roboto-Regular.03523cf5.ttf",T=function(e){var t=e.hover,n=e.readyTransform,r=e.world,o=e.position,a=e.scale,c=e.title,u=e.getVisibleWidth,l=Object(s.d)().camera,d=Object(i.useState)(null),f=Object(I.a)(d,2),m=f[0],h=f[1],v=Object(s.e)((function(e){if(m&&n){e.scale.x!==a[0]&&e.scale.fromArray(a),e.geometry.computeBoundingBox();var t=e.geometry.boundingBox,i=t.max,o=t.min,s=i.x-o.x,d=u(l,r.size/2),f=r.active?r.size:2*r.size-1.5*r.size,h=d-(f+=.04);if(h-s<0)if(c.split(" ").length>1)e.maxWidth=h;else{var v=h/s;e.scale.x=v,e.scale.y=v,e.scale.z=v}}}),[n]);return Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(B.a,{ref:v,anchorX:"right",textAlign:"right",anchorY:"top",position:o,scale:a,color:t?"#6476ec":"#949494",font:H,onSync:h,children:c})})},W=n(9),U=Object(c.c)((function(e){var t=e.world,n=Object(u.e)(t).supervisor,r=n.animated,o=n.getVisibleWidth,a=n.computeDepth,c=Object(W.g)(),l=Object(i.useRef)();Object(s.c)((function(){return function(e,t){e.position.lerp(t,.1)}(l.current,t.position)}));return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("mesh",{ref:l,receiveShadow:!0,castShadow:!0,onPointerOver:function(e){return t.setHover(e,!0)},onPointerOut:function(e){return t.setHover(e,!1)},onClick:function(e){e.stopPropagation(),t.active&&t.level>1?c(-1):c("/4dide/"+t.path)},children:[Object(S.jsx)("icosahedronBufferGeometry",{args:[t.sizeGeometry/2,t.detail]}),Object(S.jsx)("meshLambertMaterial",{emissive:t.color,opacity:t.hover?.4:.98,transparent:!0,wireframe:!0,emissiveIntensity:1}),t.titleVisible&&Object(S.jsx)(T,{world:t,hover:t.hover,scale:t.titleScale,position:t.titlePosition,title:t.title,readyTransform:!r,getVisibleWidth:o,computeDepth:a})]})})})),G=Object(c.b)("universe")(Object(c.c)((function(e){var t=e.universe,n=e.children;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("group",{name:"universe",children:t.atoms.map((function(e){return Object(S.jsx)(U,{world:t.extract(e)},e)}))}),n]})}))),J=Object(c.c)((function(e){var t=e.atom,n=Object(s.d)().camera;return Object(i.useEffect)((function(){return t.ready&&(t.setActive(!0,n),Object(s.b)()),function(){return t.setActive(!1)}}),[t,t.ready,n]),Object(S.jsx)(S.Fragment,{})})),q=function(e){var t=e.worlds;return Object(S.jsx)(W.c,{basename:"/4dide",children:function(e){var t=[],n=0;return function e(i){n+=1,t.push(Object(S.jsx)(W.a,{path:i.path,element:Object(S.jsx)(J,{atom:i})},n)),i.child.map((function(t){return e(t)}))}(e),t}(t)})},X=Object(c.b)("universe")(Object(c.c)((function(e){var t=e.children,n=e.universe.supervisor,i=Object(s.d)().setDefaultCamera,r=Object(s.e)((function(e){return i(e)}),[]);return Object(s.c)((function(){!function(e,t,n,i){e.position.distanceToSquared(t)>1e-4?(n(),e.lookAt(e.position.lerp(t,.1)),Object(s.b)()):i()}(r.current,n.position,(function(){return!n.animated&&n.setAnimate(!0)}),(function(){return n.animated&&n.setAnimate(!1)}))})),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("perspectiveCamera",{ref:r,position:[0,0,10]}),t]})}))),Y=function(){return Object(S.jsx)(D,{children:Object(S.jsx)(X,{children:Object(S.jsx)(G,{children:Object(S.jsx)(q,{worlds:C.worlds})})})})};a.a.render(Object(S.jsx)(r.a.StrictMode,{children:Object(S.jsx)(Y,{})}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.292de0e7.chunk.js.map